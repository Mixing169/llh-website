<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LLH ğŸ’•</title>
<style>
body{margin:0;font-family:Comic Sans MS;background:#fff0f5;overflow:hidden;}
.page{display:none;width:100%;height:100vh;padding:20px;box-sizing:border-box;position:absolute;top:0;left:0;}
.active{display:block;transition:0.3s;}
h1,h2,h3{text-align:center;margin:10px 0;}
.swipe-area{width:100%;height:100%;}
button,input{padding:10px 15px;border-radius:10px;border:none;font-size:16px;}
input{border:2px solid black;width:60%;margin:20px auto;display:block;}
.top-hearts{position:absolute;top:10px;left:10px;font-size:25px;}
.choco{width:80px;margin:10px;cursor:pointer;transition: transform 0.2s;}
.choco.dragging{transform:scale(1.2);}
.basket{border:3px dashed black;padding:20px;margin-top:20px;min-height:80px;}
#popup-msg{text-align:center;font-size:18px;color:#ff1493;margin-top:10px;}
.confetti{position:absolute;width:10px;height:10px;background:linear-gradient(to right,#ff0,#f0f,#0ff);animation:fall 2s linear infinite;}
@keyframes fall{0%{top:-10px;}100%{top:100vh;}}
#retry-btn{margin-top:10px;padding:8px 15px;background:#ff1493;color:white;border-radius:10px;border:none;cursor:pointer;}
</style>
</head>
<body>

<audio id="bgm" loop>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<!-- Page 1 -->
<div id="page1" class="page active">
<h1>DO YOU LOVE ME ANYMORE??? ğŸ‘€ğŸ˜©</h1>
<div class="swipe-area" id="swipe1"></div>
</div>

<!-- Page 2 -->
<div id="page2" class="page">
<div class="top-hearts" id="hearts">â¤ï¸â¤ï¸â¤ï¸</div>
<h2 style="margin-top:150px;">I LOVE YOU ğŸ’ DARLING</h2>
<input id="answer" placeholder="Type your answer here...">
<button onclick="checkAnswer()">Submit</button>
<p id="popup-msg"></p>
<div class="swipe-area" id="swipe2"></div>
</div>

<!-- Page 3 -->
<div id="page3" class="page">
<h2>Chocolate Stall ğŸ«</h2>
<p>ğŸ’­ Bhaiya: Malkin ji ğŸ™‡ğŸ»â€â™‚ï¸<br>
Malik ji ka sakht order hai ğŸ¤­<br>
Aaj aap sirf 3 hi chocolates chun sakti ho ğŸ«<br>
Jo dil ko sabse zyada pasand hoâ€¦ wahi uthaiye ğŸ’•âœ¨</p>
<div id="choco-container">
<img src="https://i.imgur.com/1Xq9BiF.png" class="choco" data-name="Dairy Milk">
<img src="https://i.imgur.com/1Xq9BiF.png" class="choco" data-name="Kinder Joy">
<img src="https://i.imgur.com/1Xq9BiF.png" class="choco" data-name="KitKat">
<img src="https://i.imgur.com/1Xq9BiF.png" class="choco" data-name="Ferrero">
<img src="https://i.imgur.com/1Xq9BiF.png" class="choco" data-name="Perk">
</div>
<div class="basket" id="basket">ğŸ§º Basket:</div>
<div class="swipe-area" id="swipe3"></div>
</div>

<!-- Page 4 -->
<div id="page4" class="page">
<h2>Under The Tree ğŸŒ³</h2>
<p>Girl runs with basket ğŸ¤­</p>
<p>Gives hug + cheek kiss ğŸ˜˜</p>
<p>Girl: "Thank you ğŸ’•"</p>
<p>Chocolate applied on face & hands ğŸ«âœ¨</p>
<p>Boy shy ğŸ˜³</p>
<h3>The End ğŸ’–</h3>
</div>

<script>
let attempt=0,lives=3,selected=0;
const pages=["page1","page2","page3","page4"];
let current=0;

// Play BGM on first tap
document.body.addEventListener('click',()=>{document.getElementById("bgm").play();},{once:true});

// Page Navigation
function goPage(num){
pages.forEach(p=>document.getElementById(p).classList.remove("active"));
document.getElementById(pages[num]).classList.add("active");
current=num;
}

// Swipe Gesture Detection
function detectSwipe(el,callback){
let touchstartX=0,touchendX=0;
el.addEventListener('touchstart',e=>{touchstartX=e.changedTouches[0].screenX;});
el.addEventListener('touchend',e=>{
touchendX=e.changedTouches[0].screenX;
if(touchendX<touchstartX-50)callback('left');
if(touchendX>touchstartX+50)callback('right');
});
}

// Page1 full screen swipe box
detectSwipe(document.getElementById("swipe1"),dir=>{
if(dir==='right')goPage(1);
if(dir==='left'){
let popup=document.createElement('div');
popup.innerText="REALLY? ğŸ‘€ğŸ˜©";
popup.style.position="absolute";
popup.style.top="40%";
popup.style.left="50%";
popup.style.transform="translate(-50%,-50%)";
popup.style.background="pink";
popup.style.padding="15px";
popup.style.borderRadius="15px";
popup.style.fontSize="25px";
document.body.appendChild(popup);
setTimeout(()=>popup.remove(),2000);
}
});

// Page2 Swipe locked until correct
detectSwipe(document.getElementById("swipe2"),dir=>{
alert("Type correct answer first ğŸ˜…");
});

// Page3 Swipe
detectSwipe(document.getElementById("swipe3"),dir=>{goPage(3);});

// Page2 Answer Logic
function checkAnswer(){
let ans=document.getElementById("answer").value.toLowerCase().trim();
let popup=document.getElementById("popup-msg");
if(ans==="i love you too"||ans==="i love you too â¤ï¸"){
goPage(2);
}
else{
attempt++;lives--;
document.getElementById("hearts").innerHTML="â¤ï¸".repeat(lives);
if(attempt==1)popup.innerText="SAHI JAWAB DO JAAN ğŸ¥º";
else if(attempt==2)popup.innerText="BABY EK OR CHANCE HAI KROOO ğŸ¤­ğŸ€";
else{
popup.innerText="JAAO I AM NARAZ ğŸ˜¤";
if(!document.getElementById("retry-btn")){
let btn=document.createElement("button");
btn.innerText="Retry ğŸ˜…";
btn.id="retry-btn";
btn.onclick=retryPage2;
popup.appendChild(btn);
}
}
setTimeout(()=>{popup.innerText="";},5000);
}
}

function retryPage2(){attempt=0;lives=3;document.getElementById("hearts").innerHTML="â¤ï¸â¤ï¸â¤ï¸";document.getElementById("answer").value="";document.getElementById("popup-msg").innerText="";}

// Chocolate Drag & Drop
const chocos=document.querySelectorAll(".choco");
const basket=document.getElementById("basket");
chocos.forEach(ch=>{
ch.draggable=true;
ch.addEventListener('dragstart',e=>{e.dataTransfer.setData("text",ch.dataset.name);ch.classList.add("dragging");});
ch.addEventListener('dragend',e=>{ch.classList.remove("dragging");});
});
basket.addEventListener('dragover',e=>{e.preventDefault();});
basket.addEventListener('drop',e=>{
let name=e.dataTransfer.getData("text");
if(selected<3){selected++;basket.innerHTML+="<br>"+name;}
});

// Confetti on Page3
function createConfetti(){
for(let i=0;i<30;i++){
let c=document.createElement("div");c.classList.add("confetti");
c.style.left=Math.random()*window.innerWidth+"px";
document.body.appendChild(c);
setTimeout(()=>c.remove(),2000);
}}
document.getElementById("page3").addEventListener('transitionend',createConfetti);
</script>

</body>
</html>
